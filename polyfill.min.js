!function(a,b){"use strict";"function"==typeof define&&define.amd?define(b):"object"==typeof exports?module.exports=b():a.Polyfill=b()}(this,function(){"use strict";var a=function(a,b){if("indexOf"in a)return a.indexOf(b);for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},b=function(b,c){return a(b,c)>-1},c=function(a,c){b(a,c)||a.push(c)},d=function(b,c){var d=a(b,c);d>-1&&b.splice(d,1)},e=function(a,b){for(var c=[],d=0,e=a.length;e>d;d++)c[d]=b(a[d]);return c},f=function(a,b){return b>a?-1:a>b?1:0},g=[],h={},i=function(a,b){switch(arguments.length){case 0:i.start();break;case 1:i.add(a);break;case 2:i.load(a,b)}return this};if(i.autoStart=!0,i.__polyfills=g,i.__listeners=h,i.add=function(a){return c(g,a),this.emit("add",[a]),this},i.remove=function(a){return d(g,a),this.emit("remove",[a]),this},i.load=function(a,b){return b&&this.add(a),this},i.loaded=function(a){return b(g,a)},i.start=function(){if(g.length){var a="polyfills.js?"+e(g.sort(f),encodeURIComponent).join("&"),b=document.createElement("script");b.setAttribute("type","text/javascript"),b.setAttribute("src",a),document.getElementsByTagName("head")[0].appendChild(b),this.emit("load",[b])}return this},i.on=function(a,b){return h[a]||(h[a]=[]),c(h[a],b),this},i.off=function(a,b){return h[a]&&d(h[a],b),this},i.emit=function(a,b){var b=b||[],c=h[a];if(c)for(var d=0,e=c.length;e>d;d++)c[d].apply(this,b);return this},"function"==typeof window.onload)var j=window.onload;return window.onload=function(a){i.autoStart&&i.start(),j&&j(a)},i});